<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>استخراج ZIP باستخدام JavaScript</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>
  <h2>اختر ملف ZIP لاستخراجه:</h2>
  <input type="file" id="zipFileInput" accept=".zip" />
  <ul id="fileList"></ul>

  <script>
    document.getElementById("zipFileInput").addEventListener("change", function(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        JSZip.loadAsync(e.target.result).then(function(zip) {
          const fileList = document.getElementById("fileList");
          fileList.innerHTML = "";

          Object.keys(zip.files).forEach(function(filename) {
            zip.files[filename].async("string").then(function(content) {
              const li = document.createElement("li");
              li.textContent = `${filename}: ${content.substring(0, 100)}...`;
              fileList.appendChild(li);
            }).catch(function() {
              const li = document.createElement("li");
              li.textContent = `${filename}: ملف ثنائي أو لا يمكن عرضه كنص.`;
              fileList.appendChild(li);
            });
          });
        });
      };
      reader.readAsArrayBuffer(file);
    });
  </script>
</body>
</html>
